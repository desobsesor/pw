<div ng-app="MainAppNoticias" ng-controller="mainControllerNoticias" ng-init="ajustarTabla('noticias', 190);">
    <section>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
        <style type="text/css">
        .form-inline .form-group { margin-right:10px; }
.well-primary {
color: rgb(255, 255, 255);
background-color: rgb(66, 139, 202);
border-color: rgb(53, 126, 189);
}
.glyphicon { margin-right:5px; }
            .ui.vertical.stripe h3 {
                font-size: 2em;
            }

            .form-check {
                padding-left: 0;
            }

                .form-check .form-check-label {
                    cursor: pointer;
                    padding-left: 0px;
                    position: relative;
                    margin-bottom: 0;
                }

                    .form-check .form-check-label span {
                        display: block;
                        left: -1px;
                        top: -1px;
                        transition-duration: .2s;
                    }

                .form-check .form-check-input {
                    opacity: 0;
                    height: 0;
                    width: 0;
                    overflow: hidden;
                    position: absolute;
                    margin: 0;
                    z-index: -1;
                    left: 0;
                    pointer-events: none;
                }

                .form-check .form-check-sign:before {
                    display: block;
                    position: absolute;
                    left: 0;
                    content: "";
                    background-color: rgba(0,0,0,.84);
                    height: 20px;
                    width: 20px;
                    border-radius: 100%;
                    z-index: 1;
                    opacity: 0;
                    margin: 0;
                    top: 0;
                    transform: scale3d(2.3,2.3,1);
                }

                .form-check .form-check-sign .check {
                    position: relative;
                    display: inline-block;
                    width: 20px;
                    height: 20px;
                    border: 1px solid rgba(0,0,0,.54);
                    overflow: hidden;
                    z-index: 1;
                    border-radius: 3px;
                    top: 3px;
                }

                    .form-check .form-check-sign .check:before {
                        position: absolute;
                        content: "";
                        transform: rotate(45deg);
                        display: block;
                        margin-top: -3px;
                        margin-left: 7px;
                        width: 0;
                        color: #fff;
                        height: 0;
                        box-shadow: 0 0 0 0, 0 0 0 0, 0 0 0 0, 0 0 0 0, 0 0 0 0, 0 0 0 0, inset 0 0 0 0;
                        animation: checkbox-off .3s forwards;
                    }

                .form-check .form-check-input:checked + .form-check-sign .check:before {
                    color: #fff;
                    box-shadow: 0 0 0 10px, 10px -10px 0 10px, 32px 0 0 20px, 0 32px 0 20px, -5px 5px 0 10px, 20px -12px 0 11px;
                    animation: checkbox-on .3s forwards;
                }

                .form-check .form-check-input:checked + .form-check-sign .check {
                    background: #9c27b0;
                }

            .table .form-check .form-check-sign {
                top: -13px;
                left: 0;
                padding-right: 0;
            }
            /*BARRA DE PROGRESO*/
            .panel.work-progress-table > .panel-heading {
                background: none repeat scroll 0 0 #efefef;
                -webkit-border-radius: 0;
                -moz-border-radius: 0;
                -ms-border-radius: 0;
                -o-border-radius: 0;
                border-radius: 0;
                color: #333333;
                float: left;
                font-family: roboto;
                font-size: 16px;
                font-weight: normal;
                letter-spacing: 0.3px;
                padding: 17px 30px 11px;
                width: 100%;
            }

            .work-progress-table > .panel-heading > i {
                color: #888888;
                float: left;
                font-family: Lato;
                font-size: 11px;
                font-style: normal;
                letter-spacing: 0.3px;
                line-height: 10px;
                margin-bottom: 10px;
                margin-top: 7px;
                width: 100%;
            }

            .panel-default > .panel-heading > .dropdown {
                float: right;
                margin-top: -42px;
            }

            /* Work Progress table */
            .panel.work-progress-table {
                border: medium none;
                -webkit-border-radius: 0;
                -moz-border-radius: 0;
                -ms-border-radius: 0;
                -o-border-radius: 0;
                border-radius: 0;
                box-shadow: none;
                float: left;
                margin: 0;
                width: 100%;
            }

                .panel.work-progress-table > .panel-heading {
                    background: none repeat scroll 0 0 #efefef;
                    -webkit-border-radius: 0;
                    -moz-border-radius: 0;
                    -ms-border-radius: 0;
                    -o-border-radius: 0;
                    border-radius: 0;
                    color: #333333;
                    float: left;
                    font-family: roboto;
                    font-size: 16px;
                    font-weight: normal;
                    letter-spacing: 0.3px;
                    padding: 17px 30px 11px;
                    width: 100%;
                }

            .work-progress-table > .panel-heading > i {
                color: #888888;
                float: left;
                font-family: Lato;
                font-size: 11px;
                font-style: normal;
                letter-spacing: 0.3px;
                line-height: 10px;
                margin-bottom: 10px;
                margin-top: 7px;
                width: 100%;
            }

            .panel-default > .panel-heading > .dropdown {
                float: right;
                margin-top: -42px;
            }

            .work-progress-table td .progress {
                background: none repeat scroll 0 0 #f3f3f3;
                -webkit-box-shadow: none;
                -moz-box-shadow: none;
                -ms-box-shadow: none;
                -o-box-shadow: none;
                box-shadow: none;
                height: 6px;
                margin: 7px 0 0;
                overflow: visible;
            }

                .work-progress-table td .progress > .progress-bar {
                    -webkit-box-shadow: none;
                    -moz-box-shadow: none;
                    -ms-box-shadow: none;
                    -o-box-shadow: none;
                    box-shadow: none;
                    position: relative;
                }

                    .work-progress-table td .progress > .progress-bar > span {
                        background: none repeat scroll 0 0 #8d8d8d;
                        font-family: Roboto;
                        font-size: 10px;
                        height: 18px;
                        line-height: 18px;
                        margin-top: -9px;
                        position: absolute;
                        right: 0;
                        top: 50%;
                        width: 31px;
                    }

            .work-progress-table .table td {
                padding: 15px 10px;
            }

            .work-progress-table .table td {
                font-family: Lato;
                font-size: 13px;
                letter-spacing: 0.3px;
                padding: 15px 10px;
            }

            .red, .support-ticket .removed, .edit-remove > li > .remove, .friend-list li > span.offline:before {
                background: -moz-linear-gradient(top, #ff5959 0%, #ff3b3b 100%);
                background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ff3b3b), color-stop(100%,#f9f9f9));
                background: -webkit-linear-gradient(top, #ff5959 0%,#ff3b3b 100%);
                background: -o-linear-gradient(top, #ff5959 0%,#ff3b3b 100%);
                background: -ms-linear-gradient(top, #ff5959 0%,#ff3b3b 100%);
                background: linear-gradient(to bottom, #ff5959 0%,#ff3b3b 100%);
                color: #fff;
            }
        </style>
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

        <div style="margin:10px auto 0 auto; width:96% !important;">
            <!--<div class="panel panel-default">-->
            <div style="margin:7px; margin-top:100px !important;">
                <div class="col-xs-6">
                    <div class="btn-group">  
                        <a class="btn btn-info animation animated-item-2" href="#" ng-click="generarPDFNoticias();">PDF</a>
                        <a class="btn btn-success animation animated-item-2" href="#" ng-click="generarExelNoticias();">XLS</a>
                        <a class="btn btn-primary animation animated-item-2 orange" href="#" ng-click="cargarEnlace('nuevaNoticia')">Nueva noticia</a>
                    </div>
                </div>
                <div class="col-xs-6 pull-right form-group">
                    <!--
                            <div class="ui labeled icon input">
                        <div class="ui label">Buscar Noticia:</div>
                        <input type="text" class="form-control ui input" style="border-radius:0px" placeholder="..." ng-model="searchFish">
                        <i class="search icon"></i>
                    </div>-->

                    <h2 class="ui header">Lista de Noticias</h2>
                    <div class="ui left aligned nine wide column">
                        <div class="ui labeled icon input">
                            <div class="ui label btn-success">Buscar Noticia:</div>
                            <input id="busquedaGeneralNoticia" class="ui input" ng-model="searchFishN">
                            <i class="search icon"></i>
                        </div>
                        <button style="margin-top:-2px;" class="btn btn-primary animation animated-item-2" onclick="$('#busquedaGeneralNoticia').val('');"><i class="refresh icon"></i></button>
                        <!--<button class="ui button primary" @click="setFilter">Go</button>-->
                    </div>
                </div>
            </div>

            <div class="panel-body" style="padding:0px;">
                <table id="noticias" ng-init="GetAttributesByRegion(false,false)" class="table table-striped table-bordered" style="margin:0px;">
                    <thead>
                        <tr>
                            <th style="width:30px;" class="text-center">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox" id="checkall" value="" checked="">
                                        <span class="form-check-sign">
                                            <span class="check"></span>
                                        </span>
                                    </label>
                                </div>
                            </th>
                            <th style="width:5%;">
                                <a style="color:#333333 !important;" href="#">
                                    Imagen
                                </a>
                            </th>
                            <th style="width:10%;">
                                <a style="color:#333333 !important;" href="#" ng-click="sortType = 'titulo'; sortReverse = !sortReverse">
                                    Titulo
                                    <span ng-show="sortType == 'titulo' && !sortReverse" class="fa fa-caret-down"></span>
                                    <span ng-show="sortType == 'titulo' && sortReverse" class="fa fa-caret-up"></span>
                                </a>
                            </th>
                            <th style="width:auto;">
                                <a style="color:#333333 !important;" href="#" ng-click="sortType = 'resumen'; sortReverse = !sortReverse">
                                    Resumen
                                    <span ng-show="sortType == 'resumen' && !sortReverse" class="fa fa-caret-down"></span>
                                    <span ng-show="sortType == 'resumen' && sortReverse" class="fa fa-caret-up"></span>
                                </a>
                            </th>
                            <th style="width:10%;">
                                <a style="color:#333333 !important;" href="#" ng-click="sortType = 'url'; sortReverse = !sortReverse">
                                    Url
                                    <span ng-show="sortType == 'url' && !sortReverse" class="fa fa-caret-down"></span>
                                    <span ng-show="sortType == 'url' && sortReverse" class="fa fa-caret-up"></span>
                                </a>
                            </th>
                            <th style="width:10%;">
                                <a style="color:#333333 !important;" href="#" ng-click="sortType = 'metatags'; sortReverse = !sortReverse">
                                    MetaTags
                                    <span ng-show="sortType == 'metatags' && !sortReverse" class="fa fa-caret-down"></span>
                                    <span ng-show="sortType == 'metatags' && sortReverse" class="fa fa-caret-up"></span>
                                </a>
                            </th>
                            <th style="width:90px;">
                                <a style="color:#333333 !important;" href="#" ng-click="sortType = 'fechaRegistro'; sortReverse = !sortReverse">
                                    Fecha 
                                    <span ng-show="sortType == 'fechaRegistro' && !sortReverse" class="fa fa-caret-down"></span>
                                    <span ng-show="sortType == 'fechaRegistro' && sortReverse" class="fa fa-caret-up"></span>
                                </a>
                            </th>
                            <th style="width:100px; text-align: center;">Estado</th>
                            <th style="width:230px">Aciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in Regions | orderBy:sortType:sortReverse | filter: searchFishN track by $index ">
                            <td class="text-center">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox" value="" checked="">
                                        <span class="form-check-sign">
                                            <span class="check"></span>
                                        </span>
                                    </label>
                                </div>
                            </td>
                            <td>
                                <span>
                                    <img ng-click="previsualizarNoticia(item)" class="img-circle" src="image/{{item.imagenPrincipal}}" alt="" style="max-width:60px;cursor:pointer;">                        
                                                <!--
                                    <img width="40" class="img-circle" alt=".." data-ng-src="data:image/png;charset=utf-8;base64,{{arrayBufferToBase64(item.imagenBanner.data)}}">-->
                                </span>
                            </td>
                            <td class="left"><a href="#" ng-click="previsualizarNoticia(item)">{{item.titulo}}</a></td>
                            <td class="left">{{item.resumen.length>10?item.resumen.substr(0, 80)+" ...":item.resumen}}</td>
                            <td class="left">{{item.url}}</td>
                            <td class="left">{{item.metatags}}</td>
                            <td class="left">{{item.fechaRegistro | date: 'yyyy-MM-dd'}}</td>
                            <td>{{item.activo?"PUBLICADO":"BORRADOR"}}
                                <div style="float:right;">
                                    <span class="glyphicon glyphicon-thumbs-up"></span>{{item.meGusta}} 
                                    <span class="glyphicon glyphicon-thumbs-down"></span>{{item.noMeGusta}}
                                </div>
                                <!--
                                <div class="progress" style="vertical-align:middle; margin-top:5%;">
                                    <div style="width: 60%;" aria-valuemax="100" aria-valuemin="0" aria-valuenow="60" role="progressbar" class="red progress-bar">
                                        <span>60%</span>
                                    </div>
                                </div>-->
                            </td>
                            <td><!--
                                <button type="button" ng-click="cargarEnlaceConDatos('noticia',item)" class="btn btn-info btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-user"></span>
                                </button>-->
                                <button type="button" ng-click="cargarEnlaceConDatos('visualizarDatosNoticia',item)" class="btn btn-success btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                </button>
                                <button type="button" ng-click="borrarNoticia(item)" class="btn btn-danger btn-just-icon btn-xs" data-toggle="tooltip" data-placement="top" data-original-title="Delete">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </button>
                                <button ng-show="!item.activo" type="button" ng-click="publicarNoticia(item)" title="Publicar" class="btn btn-primary btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-user"></span>
                                </button>
                                <button ng-show="item.activo" type="button" title="Publicado" class="btn btn-info btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-ok"></span>
                                </button> 
                                <button ng-show="!item.enPaginaPrincipal" type="button" ng-click="activarEnPaginaPrincipal(item)" title="Ver en Pagina Principal" class="btn btn-primary btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-pushpin"></span>
                                </button>
                                <button ng-show="item.enPaginaPrincipal" type="button" ng-click="inactivarEnPaginaPrincipal(item)" title="en Pagina Principal" class="btn btn-info btn-just-icon btn-xs">
                                    <span class="glyphicon glyphicon-globe"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--</div>-->
        </div>

        <div class="row-fluid container">
            <a href="#addRegionModal" ng-click="cargarEnlace('nuevaNoticia')" class="btn btn-pinkes span3" style="margin-top: 15px;" data-toggle="modal"><i class="icon-plus icon-white"></i>&nbsp;&nbsp;&nbsp;Nueva Noticia</a>

            <div class="span9 drmc" style="font-size: 85%;">
                <button ng-click="GetAttributesByRegion(false,true)" class="btn btn-mini" id="btnBackwardTop" type="button"><i class="icon-arrow-left"></i></button>
                &nbsp;&nbsp;
                Paginas&nbsp;
                <select style="width: auto; margin-top: 10px;" ng-change="GetAttributesByRegion(false,false)" ng-model="RegionPage">
                    <option ng-repeat="regionPage in RegionPages">{{regionPage}}</option>
                </select>
                &nbsp;de&nbsp; {{RegionTotalPages}}&nbsp;&nbsp;
                <button ng-click="GetAttributesByRegion(true,false)" class="btn btn-mini" id="btnForwardTop" type="button"><i class="icon-arrow-right"></i></button>
                <select style="width: auto; margin-left: 5px; margin-top: 10px;" ng-change="GetAttributesByRegion(false,false)" ng-model="RegionRow">
                    <option ng-repeat="regionRow in RegionRows">{{regionRow}}</option>
                </select>
            </div>
        </div>

    </section>
</div>
